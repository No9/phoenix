<!DOCTYPE html>
<html>
  <head>
  	<title>Phoenix</title>
	<link rel="stylesheet" href="./css/gumby.css">
  </head>
  <body>
  	<div class="navbar" id="nav">
        <h1 class="twelve columns logo"><img src="img/title.jpg" /></h1>
    </div>

    <div id="d1" class="debugpage hide">
		<table class="profiles">
			<tr class="profile">
				<td class="profile-avatar"><a href="#" onclick="goto(d3)"><img src="./img/plus.jpg"></a></td>
				<td class="profile-summary">
					<h2><a href=# onclick="goto(d3)">New account</a></h2>
					<h3><small>Get started</small></h3>
				</td>
			</tr>
		</table>
    </div>

    <div id="d2" class="debugpage hide">
		<table class="profiles">
			<tr class="profile">
				<td class="profile-avatar"><a href="#" onclick="goto(d4)"><img src="./img/avatars/oldlady.jpg"></a></td>
				<td class="profile-summary">
					<h2>Alice</h2>
					<h3><small>Created August 18, 2014</small></h3>
					<p><span class="label primary"><a href=# onclick="gui.Shell.openExternal('http://localhost:65000/profile/')">Profile page</a></span></p>
				</td>
			</tr>
		</table>
	</div>

    <div id="d3" class="debugpage hide">
    	<form>
    		<ul>
				<li class="field">
					<input class="input" type="text" placeholder="Username" />
				</li>
				<li class="field">
					<input class="input" type="file" placeholder="Image (optional)" />
				</li>
				<li class="field">
					<input class="input" type="password" placeholder="Password" />
				</li>
				<li class="field">
					<input class="input" type="password" placeholder="Confirm Password" />
				</li>
				<li class="field text-right">
					<span class="btn pretty primary medium"><button onclick="goto(d2)">Create</button></span>
					<span class="btn pretty default medium"><button onclick="goto(d1)">Cancel</button></span>
				</li>
			</ul>
		</form>
	</div>

    <div id="d4" class="debugpage hide">
    	<form>
    		<ul>
				<li class="field">
					<input class="input" type="file" placeholder="Image" value="./img/avatars/oldlady.jpg" />
				</li>
				<li class="field text-right">
					<span class="btn pretty primary medium"><button onclick="goto(d2)">Update image</button></span>
					<span class="btn pretty default medium"><button onclick="goto(d1)">Cancel</button></span>
				</li>
			</ul>
		</form>
	</div>

<script src="js/jquery-2.1.1.min.js"></script>
<script src="js/modernizr-2.6.2.min.js"></script>
<script src="js/gumby.min.js"></script>
<script src="js/nw-desktop-notifications.js"></script>
<script src="js/backend-loader.js"></script>

    <script>
var gui = require('nw.gui');
var win = gui.Window.get();

var tray = new gui.Tray({ title: 'Tray', icon: 'img/icon.png' });
var menu = new gui.Menu();
menu.append(new gui.MenuItem({ type: 'normal', label: 'Open Feed', click: function() {
	gui.Shell.openExternal('http://localhost:65000');
}}));
menu.append(new gui.MenuItem({ type: 'separator' }));
menu.append(new gui.MenuItem({ type: 'normal', label: 'Quit Phoenix', click: function() {
	window.LOCAL_NW.desktopNotifications.closeAnyOpenNotificationWindows();
	win.close(true);
}}));
tray.menu = menu;

function notify(text) {
	new Notification('Phoenix', { body: text, iconUrl: 'img/icon.png', icon: 'img/icon.png' });
}

function demoNotification() {
	notify('Test Notification')
}

function demoTrayPopup() {
	window.LOCAL_NW.desktopNotifications.notify('img/icon.png', 'title', 'Test <em>content</em> <sup>whassup</sup>');
}

win.on('closed', function() {
	window.LOCAL_NW.desktopNotifications.closeAnyOpenNotificationWindows();
});

function goto(page) {
	$('.debugpage').addClass('hide');
	$(page).removeClass('hide');
	win.height = $(page).height() + 100;// + 132;
}
goto(d1);
</script>
  </body>
</html>