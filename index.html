<!DOCTYPE html>
<html>
  <head>
  	<title>Phoenix</title>
	<link rel="stylesheet" href="css/gumby.css">
  	<link rel="stylesheet" href="css/index.css">
  </head>
  <body>
  	<div class="navbar" id="nav" style="-webkit-app-region: drag">
		<h1 class="logo"><img src="img/title.jpg" /></h1>
		<div class="controls"><a href="javascript:win.showDevTools()" class="warning btn"><i class="icon-tools"></i></a><a href="javascript:win.reload()" class="secondary btn"><i class="icon-ccw"></i></a><a href="javascript:win.minimize()" class="default btn"><i class="icon-minus"></i></a><a href="javascript:win.close()" class="danger btn"><i class="icon-cancel"></i></a></div>
	</div>
	<div class="profile" id="debug-new-profile">
		<div class="profile-info">
			<div class="profile-avatar"><a href="#"><img src="img/plus.jpg"><br>New profile</a></div>
		</div>
	</div>
	<div class="profile active" id="debug-alice-profile">
		<div class="profile-info">
			<div class="profile-avatar"><a href="#"><img src="img/avatars/oldlady.jpg"></a></div>
			<div class="profile-details">
				<p><strong>Alice</strong></p>
				<p>
					Friends: <a href="#">17 (5 online)</a><br>
					Sessions: <a href="#">Logged into 3 sites</a><br>
					<div class="small default btn"><a href="#">Edit Your Profile</a></div>
				</p>
			</div>
		</div>
	    <table class="profile-activity">
			<caption>Your Activity</caption>
			<tbody>
				<tr>
					<td>Bob</td>
					<td>Published <a href="#">Family Trip Photos 2014</a>.</td>
				</tr>
				<tr>
					<td>Alice</td>
					<td>Signed into <a href="#">my-social-network.com</a>.</td>
				</tr>
				<tr>
					<td>Alice</td>
					<td>Was created.</td>
				</tr>
			</tbody>
		</table>
	</div>
    <br>
    <div style="position: fixed; bottom: 0">
	    <div class="medium primary btn"><a href="#" onclick="demoNotification()">Test Notification</a></div>
	    <div class="medium default btn"><a href="#" onclick="demoTrayPopup()">Test Popup</a></div>
	    <div class="medium default btn"><a href="#" class="toggle" gumby-trigger="#debug-new-profile | #debug-alice-profile">Toggle profile view</a></div>
	</div>


<script src="js/jquery-2.1.1.min.js"></script>
<script src="js/modernizr-2.6.2.min.js"></script>
<script src="js/gumby.min.js"></script>
<script src="js/nw-desktop-notifications.js"></script>

    <script>
var gui = require('nw.gui');
var win = gui.Window.get();

var tray = new gui.Tray({ title: 'Tray', icon: 'img/icon.png' });
var menu = new gui.Menu();
menu.append(new gui.MenuItem({ type: 'checkbox', label: 'box1' }));
tray.menu = menu;

/*var http = require('http');
http.createServer(function (req, res) {
  res.writeHead(200, {'Content-Type': 'text/plain'});
  res.end('Hello World\n');
}).listen(65000, '127.0.0.1');
notify('Phoenix is now hosting privately at localhost:65000');*/

function notify(text) {
	new Notification('Phoenix', { body: text, iconUrl: 'img/icon.png', icon: 'img/icon.png' });
}

function demoNotification() {
	notify('Test Notification')
}

function demoTrayPopup() {
	window.LOCAL_NW.desktopNotifications.notify('img/icon.png', 'title', 'Test <em>content</em> <sup>whassup</sup>');
}
win.on('closed', function() {
	window.LOCAL_NW.desktopNotifications.closeAnyOpenNotificationWindows();
});

</script>
  </body>
</html>