<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script>
    window.addEventListener('message', function(e) {
      // :TODO: check origin
      
      // add content
      var div = document.createElement('div')
      div.innerHTML = e.data
      document.body.appendChild(div)

      // run scripts
      var scripts = div.querySelectorAll('script')
      for (var i=0; i < scripts.length; i++) {
        div.removeChild(scripts[i])
        var script = document.createElement('script')
        script.innerHTML = scripts[i].innerHTML
        div.appendChild(script)
      }
    }, false);
    parent.postMessage('loaded', '*')
    </script>
  </head>
  <body>
  </body>
</html>